{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sebas/OneDrive/Desktop/Semestres/8/IntroReact/parcial2/Parcial2fianl/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sebas/OneDrive/Desktop/Semestres/8/IntroReact/parcial2/Parcial2fianl/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sebas/OneDrive/Desktop/Semestres/8/IntroReact/parcial2/Parcial2fianl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useAppContext}from\"../../AppContext\";import SearchIcon from\"./searchIcon\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBox=function SearchBox(){var _useAppContext=useAppContext(),setMeals=_useAppContext.setMeals,searchMealByName=_useAppContext.searchMealByName;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];useEffect(function(){// Configura un intervalo para realizar la búsqueda cada 1 segundo\nvar searchInterval=setInterval(function(){performSearch(searchTerm);},300);// Limpia el intervalo cuando el componente se desmonta\nreturn function(){return clearInterval(searchInterval);};},[searchTerm]);var handleInputChange=function handleInputChange(event){var newSearchTerm=event.target.value;setSearchTerm(newSearchTerm);};var performSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(term){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return searchMealByName(term);case 3:data=_context.sent;setMeals(data||[]);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error al buscar comidas:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function performSearch(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(SearchIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Busca en este sitio web\",value:searchTerm,onChange:handleInputChange})]});};export default SearchBox;","map":{"version":3,"names":["React","useState","useEffect","useAppContext","SearchIcon","jsx","_jsx","jsxs","_jsxs","SearchBox","_useAppContext","setMeals","searchMealByName","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","searchInterval","setInterval","performSearch","clearInterval","handleInputChange","event","newSearchTerm","target","value","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","term","data","wrap","_callee$","_context","prev","next","sent","t0","console","error","stop","_x","apply","arguments","className","children","type","placeholder","onChange"],"sources":["C:/Users/Sebas/OneDrive/Desktop/Semestres/8/IntroReact/parcial2/Parcial2fianl/src/components/searchBox/searchBox.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAppContext } from \"../../AppContext\";\r\nimport SearchIcon from \"./searchIcon\";\r\nimport \"./index.css\";\r\n\r\nconst SearchBox = () => {\r\n  const { setMeals, searchMealByName } = useAppContext();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Configura un intervalo para realizar la búsqueda cada 1 segundo\r\n    const searchInterval = setInterval(() => {\r\n      performSearch(searchTerm);\r\n    }, 300);\r\n\r\n    // Limpia el intervalo cuando el componente se desmonta\r\n    return () => clearInterval(searchInterval);\r\n  }, [searchTerm]);\r\n\r\n  const handleInputChange = (event) => {\r\n    const newSearchTerm = event.target.value;\r\n    setSearchTerm(newSearchTerm);\r\n  };\r\n\r\n  const performSearch = async (term) => {\r\n    try {\r\n      const data = await searchMealByName(term);\r\n      setMeals(data || []);\r\n    } catch (error) {\r\n      console.error(\"Error al buscar comidas:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-box\">\r\n      <SearchIcon />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Busca en este sitio web\"\r\n        value={searchTerm}\r\n        onChange={handleInputChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n"],"mappings":"yfAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,kBAAkB,CAChD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErB,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,cAAA,CAAuCP,aAAa,CAAC,CAAC,CAA9CQ,QAAQ,CAAAD,cAAA,CAARC,QAAQ,CAAEC,gBAAgB,CAAAF,cAAA,CAAhBE,gBAAgB,CAClC,IAAAC,SAAA,CAAoCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhCZ,SAAS,CAAC,UAAM,CACd;AACA,GAAM,CAAAgB,cAAc,CAAGC,WAAW,CAAC,UAAM,CACvCC,aAAa,CAACJ,UAAU,CAAC,CAC3B,CAAC,CAAE,GAAG,CAAC,CAEP;AACA,MAAO,kBAAM,CAAAK,aAAa,CAACH,cAAc,CAAC,GAC5C,CAAC,CAAE,CAACF,UAAU,CAAC,CAAC,CAEhB,GAAM,CAAAM,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,KAAK,CAAK,CACnC,GAAM,CAAAC,aAAa,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACxCT,aAAa,CAACO,aAAa,CAAC,CAC9B,CAAC,CAED,GAAM,CAAAJ,aAAa,6BAAAO,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,IAAI,MAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEV,CAAA1B,gBAAgB,CAACoB,IAAI,CAAC,QAAnCC,IAAI,CAAAG,QAAA,CAAAG,IAAA,CACV5B,QAAQ,CAACsB,IAAI,EAAI,EAAE,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAErBK,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAAN,QAAA,CAAAI,EAAO,CAAC,CAAC,yBAAAJ,QAAA,CAAAO,IAAA,MAAAZ,OAAA,gBAEpD,kBAPK,CAAAX,aAAaA,CAAAwB,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAOlB,CAED,mBACEtC,KAAA,QAAKuC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1C,IAAA,CAACF,UAAU,GAAE,CAAC,cACdE,IAAA,UACE2C,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,yBAAyB,CACrCxB,KAAK,CAAEV,UAAW,CAClBmC,QAAQ,CAAE7B,iBAAkB,CAC7B,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}